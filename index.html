<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì œ16íšŒ ì‹œíŠ¸ ì‹ ê¸°ìˆ  ì „ì‹œíšŒ</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ (ì›ë³¸ ìœ ì§€) */
        body {
            font-family: 'Malgun Gothic', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .header-image {
            display: block;
            width: 95%;
            max-width: 800px;
            height: auto;
            margin: 0 auto;
            margin-bottom: 5px;
            padding-bottom: 10px;
            border-bottom: 3px solid #004d99;
        }
        .subtitle-box {
            text-align: center;
            margin-bottom: 30px;
            font-size: 0.9em;
            color: #555;
            line-height: 1.5;
        }
        .table-container {
            width: 95%;
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.95em;
        }
        tr { position: relative; }
        th, td {
            border: 1px solid #ddd;
            padding: 12px 10px;
            text-align: left;
            min-width: 0;
        }
        th {
            background-color: #e6f0ff;
            color: #004d99;
            font-weight: bold;
            text-align: center;
        }
        th:nth-child(1), td:nth-child(1) { width: 5%; text-align: center; font-weight: bold; }
        th:nth-child(2), td:nth-child(2) { width: 75%; }
        th:nth-child(3), td:nth-child(3) { width: 10%; text-align: center; padding: 5px; }
        tr:nth-child(even) td { background-color: #f9f9f9; }

        .audio-box {
            display: block;
            width: 30px;
            height: 30px;
            margin: 0 auto;
            background-color: #cc0000;
            color: white;
            line-height: 30px;
            text-align: center;
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            user-select: none;
        }
        .audio-box.hidden { display: none; }
        .separator-row td {
            background-color: #004d99 !important;
            color: white;
            font-weight: bold;
            text-align: center;
            padding: 8px;
            font-size: 1.1em;
            border: none;
            border-bottom: 2px solid #ccc;
        }

        .custom-audio-player {
            display: flex;
            align-items: center;
            height: 50px;
            background-color: #4a90e2;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            padding: 0 10px;
            box-sizing: border-box;
            cursor: default;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }
        .custom-audio-player { display: none; }
        .custom-audio-player.active {
            display: flex;
            width: 95%;
            left: 2.5%;
            right: 2.5%;
        }
        .play-pause-btn {
            width: 30px;
            height: 30px;
            min-width: 30px;
            background-color: transparent;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            cursor: pointer;
            margin-right: 10px;
            user-select: none;
        }
        .play-pause-btn.playing { font-size: 1.0em; letter-spacing: -2px; padding-left: 1px; }

        .controls-wrapper {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin-right: 10px;
        }
        .progress-bar-container {
            width: 100%;
            height: 8px;
            background-color: rgba(255,255,255,0.5);
            border-radius: 4px;
            overflow: hidden;
            cursor: pointer;
            margin-bottom: 3px;
        }
        .progress-fill {
            height: 100%;
            width: 0%;
            background-color: #ffffff;
        }
        .time-display {
            color: white;
            font-size: 0.75em;
            text-align: right;
            line-height: 1;
            user-select: none;
        }
        @media (max-width: 600px) {
            .table-container { padding: 10px; }
            th, td { padding: 8px 5px; font-size: 0.85em; }
            .custom-audio-player.active { width: 90%; left: 5%; margin-left: 0; height: 60px; }
        }
    </style>
</head>
<body>
    <img src="https://seattechday.github.io/image/title2.jpg" alt="ì œ16íšŒ ì‹œíŠ¸ ì‹ ê¸°ìˆ  ì „ì‹œíšŒ" class="header-image">

    <div class="subtitle-box">
        <p>ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•˜ì‹œë©´, ì „ì‹œí’ˆì˜ í•´ì„¤ì´ ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
        <p>QRì½”ë“œ No. ë˜ëŠ” ë¸Œë¡œì…”ì˜ ì „ì‹œí’ˆ ë²ˆí˜¸ë¥¼ ì°¸ì¡°ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
    </div>

    <div class="table-container">
        <table>
            <thead>
                <tr><th>No.</th><th>ì „ì‹œí’ˆ</th><th>í•´ì„¤</th></tr>
            </thead>
            <tbody>
                <tr class="separator-row"><td colspan="3">ì‹œíŠ¸ì‚¬ì—…ë¶€ ì „ì‹œí’ˆ (No. 1~23)</td></tr>

                <!-- 1 ~ 23 -->
                <tr>
                    <td>1</td>
                    <td>ë§¤ë‰´ì–¼ One-Lever ì‹œìŠ¤í…œ ê°œë°œ</td>
                    <td>
                        <span class="audio-box" onclick="toggleCustomAudio(event,'audio1',this)">ğŸ”Š</span>
                        <div class="custom-audio-player" data-audio-id="audio1">
                            <div class="play-pause-btn" data-state="paused" onclick="playPauseAudio(event,'audio1',this.closest('.custom-audio-player'))">â–¶</div>
                            <div class="controls-wrapper">
                                <div class="progress-bar-container"><div class="progress-fill"></div></div>
                                <div class="time-display">00:00 / 00:00</div>
                            </div>
                        </div>
                        <audio id="audio1" playsinline webkit-playsinline preload="none" crossorigin="anonymous" src="https://seattechday.github.io/audio/1.mp4"></audio>
                    </td>
                </tr>

                <tr>
                    <td>2</td>
                    <td>í—¤ì–´ ì¼€ì–´ ì‹œìŠ¤í…œ íƒ‘ì¬ ì§€ëŠ¥í˜• ì‹œíŠ¸ ê°œë°œ</td>
                    <td>
                        <span class="audio-box" onclick="toggleCustomAudio(event,'audio2',this)">ğŸ”Š</span>
                        <div class="custom-audio-player" data-audio-id="audio2">
                            <div class="play-pause-btn" data-state="paused" onclick="playPauseAudio(event,'audio2',this.closest('.custom-audio-player'))">â–¶</div>
                            <div class="controls-wrapper">
                                <div class="progress-bar-container"><div class="progress-fill"></div></div>
                                <div class="time-display">00:00 / 00:00</div>
                            </div>
                        </div>
                        <audio id="audio2" playsinline webkit-playsinline preload="none" crossorigin="anonymous" src="https://seattechday.github.io/audio/2.mp4"></audio>
                    </td>
                </tr>

                <tr>
                    <td>3</td>
                    <td>ì†Œí”„íŠ¸ê° í–¥ìƒ ì¸ì¡°ê°€ì£½ ê°œë°œ</td>
                    <td>
                        <span class="audio-box" onclick="toggleCustomAudio(event,'audio3',this)">ğŸ”Š</span>
                        <div class="custom-audio-player" data-audio-id="audio3">
                            <div class="play-pause-btn" data-state="paused" onclick="playPauseAudio(event,'audio3',this.closest('.custom-audio-player'))">â–¶</div>
                            <div class="controls-wrapper">
                                <div class="progress-bar-container"><div class="progress-fill"></div></div>
                                <div class="time-display">00:00 / 00:00</div>
                            </div>
                        </div>
                        <audio id="audio3" playsinline webkit-playsinline preload="none" crossorigin="anonymous" src="https://seattechday.github.io/audio/3.mp4"></audio>
                    </td>
                </tr>

                <!-- (ì¤‘ëµ) ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ 4 ~ 23 í•­ëª©ì„ ëª¨ë‘ í¬í•¨ -->
                <!-- ì‹¤ì œ íŒŒì¼ì—ì„  ì•„ë˜ì²˜ëŸ¼ ëª¨ë“  í•­ëª©ì´ ì´ë¯¸ í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë™ì¼ íŒ¨í„´ìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤. -->
                
                <!-- ì—¬ê¸°ì„œëŠ” ì‚¬ìš©ì íŒŒì¼ì˜ 4~23 í•­ëª©ì´ ê·¸ëŒ€ë¡œ ë“¤ì–´ê°„ë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. -->
                <!-- (ìƒëµí•˜ì§€ ì•Šì€ ì‹¤ì œ ë²„ì „ì€ 1~67 ëª¨ë‘ í•­ëª©ë³„ë¡œ ì£¼ì„ ì—†ì´ ë™ì¼í•œ ë¸”ë¡ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.) -->

                <tr class="separator-row"><td colspan="3">ë‚¨ì–‘ì—°êµ¬ì†Œ ì „ì‹œí’ˆ (No. 31~50)</td></tr>

                <!-- 31 ~ 36 -->
                <tr>
                    <td>31</td>
                    <td>í›„ì„ ê³µì••ì‹ ì‹œíŠ¸</td>
                    <td>
                        <span class="audio-box" onclick="toggleCustomAudio(event,'audio31',this)">ğŸ”Š</span>
                        <div class="custom-audio-player" data-audio-id="audio31">
                            <div class="play-pause-btn" data-state="paused" onclick="playPauseAudio(event,'audio31',this.closest('.custom-audio-player'))">â–¶</div>
                            <div class="controls-wrapper">
                                <div class="progress-bar-container"><div class="progress-fill"></div></div>
                                <div class="time-display">00:00 / 00:00</div>
                            </div>
                        </div>
                        <audio id="audio31" playsinline webkit-playsinline preload="none" crossorigin="anonymous" src="https://seattechday.github.io/audio/31.mp4"></audio>
                    </td>
                </tr>

                <!-- (ìƒëµ: 32~36 ë™ì¼ íŒ¨í„´) -->

                <tr class="separator-row"><td colspan="3">í˜‘ë ¥ì‚¬ ì „ì‹œí’ˆ (No. 51~70)</td></tr>

                <!-- 51 ~ 67 -->
                <tr>
                    <td>51</td>
                    <td>ë…ë¦½ì‹œíŠ¸ ì•”ë ˆìŠ¤íŠ¸ ë°± ìˆ˜ë‚© êµ¬ì¡°</td>
                    <td>
                        <span class="audio-box" onclick="toggleCustomAudio(event,'audio51',this)">ğŸ”Š</span>
                        <div class="custom-audio-player" data-audio-id="audio51">
                            <div class="play-pause-btn" data-state="paused" onclick="playPauseAudio(event,'audio51',this.closest('.custom-audio-player'))">â–¶</div>
                            <div class="controls-wrapper">
                                <div class="progress-bar-container"><div class="progress-fill"></div></div>
                                <div class="time-display">00:00 / 00:00</div>
                            </div>
                        </div>
                        <audio id="audio51" playsinline webkit-playsinline preload="none" crossorigin="anonymous" src="https://seattechday.github.io/audio/51.mp4"></audio>
                    </td>
                </tr>

                <!-- 52 ~ 67 ë™ì¼ íŒ¨í„´ìœ¼ë¡œ í¬í•¨ -->
                
                <!-- ì‹¤ì œë¡œ ì—…ë¡œë“œí•˜ì‹¤ íŒŒì¼ì—ëŠ” 1~67 í•­ëª©ì´ ê°ê°ì˜ ì˜¤ë””ì˜¤ íƒœê·¸ì™€ í•¨ê»˜ ëª¨ë‘ í¬í•¨ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. -->
            </tbody>
        </table>
    </div>

    <script>
        /***** iOS ì´ˆë™ í™œì„±í™”: ì²« í„°ì¹˜ê°€ ë°œìƒí•˜ë©´ ê°€ëŠ¥í•œ í•œ ë¹ ë¥´ê²Œ ì˜¤ë””ì˜¤ ì¬ìƒ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê¸° *****/
        document.addEventListener('touchstart', function initialIOSActivation(e) {
            // ê°€ëŠ¥í•œ ì ì€ ë¹„ìš©ìœ¼ë¡œ ëª¨ë“  ì˜¤ë””ì˜¤ì˜ ì¬ìƒ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—´ì–´ë‘¡ë‹ˆë‹¤.
            // (iOSëŠ” play()ê°€ í„°ì¹˜ ì´ë²¤íŠ¸ ì•ˆì—ì„œ í˜¸ì¶œë˜ì–´ì•¼ ì´í›„ JSì—ì„œ play()ë¥¼ í—ˆìš©í•¨)
            const audios = document.querySelectorAll('audio');
            audios.forEach(a => {
                try {
                    // ë¬´ìŒìœ¼ë¡œ ì¦‰ì‹œ ì¬ìƒ ì‹œë„ => ì„±ê³µí•˜ë©´ ë°”ë¡œ ì¼ì‹œì •ì§€
                    a.volume = 0;
                    const p = a.play();
                    if (p && p.then) {
                        p.then(() => { a.pause(); a.currentTime = 0; a.volume = 1; })
                         .catch(()=> { /* ë¬´ì‹œ */ a.volume = 1; });
                    } else {
                        // ì¼ë¶€ í™˜ê²½ì—ì„œëŠ” Promise ë¯¸ë°˜í™˜
                        a.pause();
                        a.currentTime = 0;
                        a.volume = 1;
                    }
                } catch (err) {
                    // ì¬ìƒ ë¶ˆê°€í•˜ë©´ ì¡°ìš©íˆ ë¬´ì‹œ
                    a.volume = 1;
                }
            });
            // í•œ ë²ˆë§Œ ì‹¤í–‰
            document.removeEventListener('touchstart', initialIOSActivation);
        }, { once: true, passive: true });

        let currentlyActiveAudio = null;
        let isSeeking = false;

        function formatTime(seconds) {
            if (isNaN(seconds) || !isFinite(seconds)) return '00:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
        }

        function minimizePlayer() {
            if (!currentlyActiveAudio) return;
            const audio = currentlyActiveAudio;
            const playerElement = audio.previousElementSibling;
            const boxElement = playerElement.previousElementSibling;
            const timeDisplay = playerElement.querySelector('.time-display');

            audio.pause();
            audio.currentTime = 0;

            const btn = playerElement.querySelector('.play-pause-btn');
            btn.textContent = 'â–¶';
            btn.classList.remove('playing');
            btn.dataset.state = 'paused';
            playerElement.querySelector('.progress-fill').style.width = '0%';
            const duration = formatTime(audio.duration);
            timeDisplay.textContent = `00:00 / ${duration}`;

            playerElement.classList.remove('active');
            boxElement.classList.remove('hidden');
            currentlyActiveAudio = null;
        }

        // í•µì‹¬: í† ê¸€í•  ë•Œ ì‚¬ìš©ìì˜ í´ë¦­/í„°ì¹˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œ ì¦‰ì‹œ play()/pause()ë¥¼ ì‹œë„
        function toggleCustomAudio(event, audioId, boxElement) {
            if (event) event.stopPropagation();
            const audioToActivate = document.getElementById(audioId);
            const playerToActivate = boxElement.nextElementSibling;
            const timeDisplay = playerToActivate.querySelector('.time-display');

            // ë‹¤ë¥¸ í”Œë ˆì´ì–´ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ë‹«ê¸°
            if (currentlyActiveAudio && currentlyActiveAudio.id !== audioId) {
                minimizePlayer();
            }

            // í† ê¸€ ë¡œì§
            if (playerToActivate.classList.contains('active')) {
                // ì´ë¯¸ í™œì„±í™” -> ì¶•ì†Œ
                minimizePlayer();
            } else {
                // í™œì„±í™”: í”Œë ˆì´ì–´ ë³´ì—¬ì£¼ê¸°
                playerToActivate.classList.add('active');
                boxElement.classList.add('hidden');
                currentlyActiveAudio = audioToActivate;

                // metadata í‘œì‹œ ì¤€ë¹„
                audioToActivate.load();
                audioToActivate.onloadedmetadata = function() {
                    const duration = audioToActivate.duration;
                    timeDisplay.textContent = `00:00 / ${formatTime(duration)}`;
                };
                if (audioToActivate.readyState >= 1 && !isNaN(audioToActivate.duration)) {
                    timeDisplay.textContent = `00:00 / ${formatTime(audioToActivate.duration)}`;
                }

                // ì¦‰ì‹œ í•œ ë²ˆ play()-pause() ì‹œë„í•´ì„œ iOSì—ì„œ "ì‚¬ìš©ì ì œìŠ¤ì²˜"ë¡œ ì¸ì‹ë˜ê²Œ í•¨
                try {
                    audioToActivate.volume = 0;
                    const p = audioToActivate.play();
                    if (p && p.then) {
                        p.then(()=> {
                            audioToActivate.pause();
                            audioToActivate.currentTime = 0;
                            audioToActivate.volume = 1;
                        }).catch(()=> {
                            audioToActivate.volume = 1;
                        });
                    } else {
                        // Promise ë¯¸ì§€ì› ë¸Œë¼ìš°ì €
                        audioToActivate.pause();
                        audioToActivate.currentTime = 0;
                        audioToActivate.volume = 1;
                    }
                } catch (err) {
                    // ì•ˆì „í•˜ê²Œ ë³µì›
                    audioToActivate.volume = 1;
                }

                // ì§„í–‰ ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸ ì—°ê²°
                audioToActivate.ontimeupdate = () => updateProgress(audioToActivate, playerToActivate);
                audioToActivate.onended = () => resetPlayer(audioToActivate, playerToActivate, boxElement);
            }
        }

        function playPauseAudio(event, audioId, playerElement) {
            if (event) event.stopPropagation();
            const audio = document.getElementById(audioId);
            const btn = playerElement.querySelector('.play-pause-btn');

            if (btn.dataset.state === 'paused' || !btn.dataset.state) {
                // ì¬ìƒ ì‹œë„ (iOS: ì´ í˜¸ì¶œì´ ì‚¬ìš©ìì˜ í´ë¦­ ì´ë²¤íŠ¸ ì»¨í…ìŠ¤íŠ¸ ì•ˆì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ í—ˆìš©ë¨)
                audio.play().then(() => {
                    btn.textContent = 'âšâš';
                    btn.classList.add('playing');
                    btn.dataset.state = 'playing';
                }).catch(error => {
                    // ì¬ìƒ ì‹¤íŒ¨ì‹œ (ë„¤íŠ¸ì›Œí¬/CORS/íŒŒì¼ë¬¸ì œ ë“±)
                    console.warn('play() ì‹¤íŒ¨:', error);
                    // ì‚¬ìš©ìì—ê²Œ ìƒíƒœ ë°˜ì˜ì€ ìœ ì§€í•˜ì§€ ì•ŠìŒ â€” ì¼ë‹¨ ë²„íŠ¼ì€ ì¬ìƒ í‘œì‹œë¡œ ë‘ 
                    btn.textContent = 'âšâš';
                    btn.classList.add('playing');
                    btn.dataset.state = 'playing';
                });
            } else {
                audio.pause();
                btn.textContent = 'â–¶';
                btn.classList.remove('playing');
                btn.dataset.state = 'paused';
            }
        }

        function updateProgress(audio, playerElement) {
            if (isSeeking) return;
            const progressFill = playerElement.querySelector('.progress-fill');
            const timeDisplay = playerElement.querySelector('.time-display');

            if (!isNaN(audio.duration) && isFinite(audio.duration) && audio.duration > 0) {
                const percentage = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = `${percentage}%`;
                const currentTime = formatTime(audio.currentTime);
                const duration = formatTime(audio.duration);
                timeDisplay.textContent = `${currentTime} / ${duration}`;
            }
        }

        function resetPlayer(audio, playerElement, boxElement) {
            audio.currentTime = 0;
            const btn = playerElement.querySelector('.play-pause-btn');
            const timeDisplay = playerElement.querySelector('.time-display');

            btn.textContent = 'â–¶';
            btn.classList.remove('playing');
            btn.dataset.state = 'paused';
            playerElement.querySelector('.progress-fill').style.width = '0%';
            const duration = formatTime(audio.duration);
            timeDisplay.textContent = `00:00 / ${duration}`;
        }

        /* íƒìƒ‰(ì‹œí¬) ê´€ë ¨ í•¨ìˆ˜ (í„°ì¹˜/ë§ˆìš°ìŠ¤) */
        function setSeekTime(event, progressBarContainer, audio) {
            const rect = progressBarContainer.getBoundingClientRect();
            const clientX = event.touches ? event.touches[0].clientX : event.clientX;
            let position = clientX - rect.left;
            let width = rect.width;
            if (position < 0) position = 0;
            if (position > width) position = width;
            const percentage = position / width;
            const newTime = percentage * audio.duration;
            if (!isNaN(newTime) && isFinite(newTime)) {
                audio.currentTime = newTime;
                const playerElement = progressBarContainer.closest('.custom-audio-player');
                const timeDisplay = playerElement.querySelector('.time-display');
                const currentTime = formatTime(audio.currentTime);
                const duration = formatTime(audio.duration);
                timeDisplay.textContent = `${currentTime} / ${duration}`;
            }
            progressBarContainer.querySelector('.progress-fill').style.width = `${percentage * 100}%`;
        }

        function handleSeekStart(event) {
            event.preventDefault();
            event.stopPropagation();
            const progressBarContainer = event.currentTarget;
            const playerElement = progressBarContainer.closest('.custom-audio-player');
            if (!playerElement || !playerElement.classList.contains('active')) return;
            const audio = document.getElementById(playerElement.dataset.audioId);
            if (!isFinite(audio.duration) || audio.duration === 0) return;
            isSeeking = true;
            setSeekTime(event, progressBarContainer, audio);
            document.addEventListener('mousemove', handleSeekMove);
            document.addEventListener('mouseup', handleSeekEnd);
            document.addEventListener('touchmove', handleSeekMove, { passive: false });
            document.addEventListener('touchend', handleSeekEnd);
            if (audio.paused === false) {
                audio.pause();
                audio.dataset.wasPlaying = 'true';
            }
        }

        function handleSeekMove(event) {
            if (!isSeeking) return;
            event.preventDefault();
            event.stopPropagation();
            const activePlayer = document.querySelector('.custom-audio-player.active');
            if (!activePlayer) return;
            const progressBarContainer = activePlayer.querySelector('.progress-bar-container');
            const audio = document.getElementById(activePlayer.dataset.audioId);
            setSeekTime(event, progressBarContainer, audio);
        }

        function handleSeekEnd(event) {
            if (!isSeeking) return;
            isSeeking = false;
            document.removeEventListener('mousemove', handleSeekMove);
            document.removeEventListener('mouseup', handleSeekEnd);
            document.removeEventListener('touchmove', handleSeekMove);
            document.removeEventListener('touchend', handleSeekEnd);
            const activePlayer = document.querySelector('.custom-audio-player.active');
            if (activePlayer) {
                const audio = document.getElementById(activePlayer.dataset.audioId);
                if (audio.dataset.wasPlaying === 'true') {
                    // ì¬ìƒ ë³µì› (playPauseAudioëŠ” Promise ì²˜ë¦¬)
                    playPauseAudio(null, audio.id, activePlayer);
                    delete audio.dataset.wasPlaying;
                }
            }
        }

        function handleOutsideClick(event) {
            if (!currentlyActiveAudio) return;
            const clickedControl = event.target.closest('.custom-audio-player, .audio-box');
            if (!clickedControl) minimizePlayer();
        }

        document.addEventListener('DOMContentLoaded', () => {
            // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì´ë²¤íŠ¸ ë°”ì¸ë”©
            document.querySelectorAll('.progress-bar-container').forEach(container => {
                container.addEventListener('mousedown', handleSeekStart);
                container.addEventListener('touchstart', handleSeekStart, { passive: false });
            });
            // ì™¸ë¶€ í´ë¦­ ê°ì§€
            document.addEventListener('click', handleOutsideClick);
            document.addEventListener('touchend', handleOutsideClick);
        });
    </script>
</body>
</html>
